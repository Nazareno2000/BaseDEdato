CREATE OR REPLACE FUNCTION DenegarValoracion() RETURNS TRIGGER AS
$DenegarValoraciono$
BEGIN
        if Usuario2.DNI not in (usuario_isbn)then
        RAISE EXCEPTION 'no puede valor sin antes comprar';
        else if
        INSERT INTO Valoracion(id_valoracion,Cantidad_estrellas,ISBN) values (1,3,123)
 RETURN NEW;
END;
$DenegarValoraciono$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION crearCarrito() RETURNS TRIGGER AS
$crearCarritoCuandoSeCreaUsuario$
BEGIN    if Usuario2.DNI not in (usuario2)then
         RAISE EXCEPTION 'no puede tener carrito sin antes registrarte';
        INSERT INTO carrito (fecha) VALUES (DEFAULT);
 RETURN NEW;
END;
$crearCarritoCuandoSeCreaUsuario$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION crearCarrito() RETURNS TRIGGER AS
$crearCarritoCuandoSeCreaUsuario$
BEGIN
        INSERT INTO carrito (fecha) VALUES (DEFAULT);
 RETURN NEW;
END;
$crearCarritoCuandoSeCreaUsuario$ LANGUAGE plpgsql;